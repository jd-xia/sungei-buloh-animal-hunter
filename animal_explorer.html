<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ÂèåÊ∫™ÈÉ®ËêΩÂä®Áâ©Êé¢Á¥¢">
    <title>ÂèåÊ∫™ÈÉ®ËêΩÂä®Áâ©Êé¢Á¥¢ - ÁßªÂä®Áâà</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü¶Ö</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #87CEEB, #98FB98);
            min-height: 100vh;
            padding: 10px;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
            overflow-x: hidden;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            color: #2c5530;
            padding: 10px;
        }

        .header h1 {
            font-size: 1.8em;
            margin-bottom: 8px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .header p {
            font-size: 1em;
            color: #4a6741;
            margin-bottom: 15px;
        }

        .header-badge {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .header-badge span {
            background: rgba(255,255,255,0.9);
            color: #4a6741;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .stats-bar {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .progress-container {
            margin-bottom: 15px;
        }

        .progress-text {
            text-align: center;
            color: #2c5530;
            font-weight: bold;
            margin-bottom: 12px;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .progress-icon {
            font-size: 1.1em;
        }

        .progress-bar {
            background: #e9ecef;
            border-radius: 12px;
            height: 18px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .progress-fill {
            background: linear-gradient(90deg, #28a745, #20c997);
            height: 100%;
            width: 0%;
            transition: width 0.8s ease;
            border-radius: 12px;
            position: relative;
        }

        .progress-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #2c5530;
            font-size: 0.7em;
            font-weight: bold;
            text-shadow: 0 1px 2px rgba(255,255,255,0.8);
            z-index: 1;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            text-align: center;
        }

        .stat-item {
            background: #f8f9fa;
            padding: 12px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }

        .stat-item:hover {
            transform: translateY(-2px);
        }

        .stat-icon {
            font-size: 1.2em;
            margin-bottom: 2px;
        }

        .stat-number {
            font-size: 1.4em;
            font-weight: bold;
            color: #2c5530;
        }

        .stat-label {
            font-size: 0.75em;
            color: #666;
            font-weight: 500;
        }

        .controls {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            margin-bottom: 20px;
            padding: 0 5px;
            -webkit-overflow-scrolling: touch;
        }

        .filter-btn, .reset-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            white-space: nowrap;
            flex-shrink: 0;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            -webkit-tap-highlight-color: transparent;
        }

        .reset-btn {
            background: #dc3545;
        }

        .filter-btn:hover, .filter-btn.active, .reset-btn:hover {
            transform: scale(1.05);
        }

        .filter-btn:active, .reset-btn:active {
            transform: scale(0.95);
        }

        .cards-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            max-width: 100%;
        }

        .animal-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 6px 25px rgba(0,0,0,0.08);
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
            -webkit-tap-highlight-color: transparent;
            position: relative;
        }

        .animal-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }

        .animal-card.found {
            border-color: #28a745;
            background: linear-gradient(135deg, #f8fff8, #f0fff0);
            box-shadow: 0 8px 30px rgba(40, 167, 69, 0.2);
        }

        .animal-card.found::before {
            content: "‚úì";
            position: absolute;
            top: 10px;
            right: 10px;
            background: #28a745;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            z-index: 2;
        }

        .card-image {
            height: 140px;
            background: linear-gradient(135deg, #f0f8ff, #e6f3ff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5em;
            color: #4a6741;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .card-image:hover {
            background: linear-gradient(135deg, #e6f3ff, #d4edda);
        }



        .card-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.3) 50%, transparent 70%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .card-content {
            padding: 15px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .card-title {
            font-size: 1.1em;
            font-weight: bold;
            color: #2c5530;
            flex: 1;
        }

        .scientific-name {
            font-style: italic;
            color: #666;
            font-size: 0.7em;
            margin-bottom: 5px;
        }

        .card-category {
            background: #e8f5e8;
            color: #4a6741;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7em;
            white-space: nowrap;
        }

        .card-description {
            color: #666;
            line-height: 1.4;
            margin-bottom: 10px;
            font-size: 0.85em;
        }

        .card-tips {
            background: #fff3cd;
            border-left: 3px solid #ffc107;
            padding: 8px;
            border-radius: 5px;
            font-size: 0.8em;
            color: #856404;
            margin-bottom: 12px;
        }

        .found-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.95em;
            width: 100%;
            transition: all 0.3s ease;
            font-weight: 600;
            -webkit-tap-highlight-color: transparent;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
            position: relative;
            overflow: hidden;
        }

        .found-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .found-btn:hover::before {
            left: 100%;
        }

        .found-btn.found {
            background: linear-gradient(135deg, #6c757d, #5a6268);
            box-shadow: 0 4px 15px rgba(108, 117, 125, 0.3);
        }

        .found-btn:active {
            transform: scale(0.96);
            box-shadow: 0 2px 8px rgba(40, 167, 69, 0.4);
        }

        /* Â∫ÜÁ•ùÊïàÊûú */
        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3em;
            z-index: 1001;
            pointer-events: none;
            animation: celebrate 2s ease-out forwards;
        }

        @keyframes celebrate {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }

        /* Ê®°ÊÄÅÊ°Ü */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            max-width: 90%;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .modal h2 {
            color: #2c5530;
            margin-bottom: 15px;
        }

        .modal p {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .modal-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 0 5px;
        }

        .modal-btn.danger {
            background: #dc3545;
        }

        .hidden {
            display: none !important;
        }

        /* Ëß¶Êë∏‰ºòÂåñ */
        @media (hover: none) {
            .animal-card:hover {
                transform: none;
            }
            
            .filter-btn:hover, .reset-btn:hover {
                transform: none;
            }

            .stat-item:hover {
                transform: none;
            }
        }

        /* Ê∑±Ëâ≤Ê®°ÂºèÊîØÊåÅ */
        @media (prefers-color-scheme: dark) {
            body {
                background: linear-gradient(135deg, #1a1a2e, #16213e);
            }
            
            .stats-bar {
                background: rgba(255,255,255,0.1);
                backdrop-filter: blur(20px);
            }
            
            .animal-card {
                background: rgba(255,255,255,0.95);
            }
            
            .header-badge span {
                background: rgba(255,255,255,0.2);
                color: #fff;
            }
        }

        /* ‰∫íÂä®ÂÖÉÁ¥† */
        .interactive-elements {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .floating-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .floating-btn:hover {
            transform: scale(1.1);
        }

        .floating-btn:active {
            transform: scale(0.9);
        }

        .sound-toggle {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
        }

        .hint-toggle {
            background: linear-gradient(135deg, #ffe66d, #ffa726);
        }

        /* ËÉåÊôØÈü≥‰πêÊéßÂà∂ÊåâÈíÆ */
        .bg-music-btn {
            background: linear-gradient(135deg, #2196F3, #1976D2) !important;
        }

        .bg-music-btn.muted {
            background: linear-gradient(135deg, #9E9E9E, #757575) !important;
        }

        .bg-music-btn.playing {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }



        /* ÊèêÁ§∫Á≥ªÁªü */
        .hint-system {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 2000;
            display: none;
            max-width: 300px;
            text-align: center;
        }

        .hint-content {
            margin-bottom: 15px;
        }

        .hint-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c5530;
            margin-bottom: 10px;
        }

        .hint-text {
            color: #666;
            line-height: 1.4;
        }

        .hint-close {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 15px;
            cursor: pointer;
        }

        /* ÊàêÂ∞±Á≥ªÁªü */
        .achievement {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #2c5530;
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            z-index: 1500;
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .achievement-icon {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .achievement-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .achievement-desc {
            font-size: 0.9em;
        }

        /* Âä®Áâ©ËØ¶ÊÉÖÂºπÁ™ó */
        .animal-detail-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 3000;
            backdrop-filter: blur(10px);
        }

        .animal-detail-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 25px;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .detail-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .detail-emoji {
            font-size: 4em;
            margin-bottom: 10px;
        }

        .detail-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c5530;
            margin-bottom: 5px;
        }

        .detail-scientific {
            font-style: italic;
            color: #666;
            font-size: 0.9em;
        }

        .detail-info {
            margin-bottom: 15px;
        }

        .detail-section {
            margin-bottom: 15px;
        }

        .detail-section h4 {
            color: #2c5530;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        .detail-section p {
            color: #666;
            line-height: 1.5;
            font-size: 0.95em;
        }

        .detail-close {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 20px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
        }





        /* Âä®Áâ©Ë∂≥ËøπËøΩË∏™ */
        .footprint-trail {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 1000;
            display: none;
        }

        .footprint-title {
            font-weight: bold;
            color: #2c5530;
            margin-bottom: 10px;
            text-align: center;
        }

        .footprint-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }

        .footprint-item {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
        }

        .footprint-item.found {
            background: #28a745;
            color: white;
            border-color: #28a745;
            transform: scale(1.1);
        }

        /* Êé¢Á¥¢Âú∞Âõæ */
        .exploration-map {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 2000;
            display: none;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
        }

        .map-title {
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            color: #2c5530;
            margin-bottom: 20px;
        }

        .map-areas {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .map-area {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
        }

        .map-area.completed {
            background: #d4edda;
            border-color: #28a745;
        }

        .map-area-icon {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .map-area-title {
            font-weight: bold;
            color: #2c5530;
            margin-bottom: 5px;
        }

        .map-area-progress {
            font-size: 0.9em;
            color: #666;
        }

        /* Âä®Áâ©Âè´Â£∞ÊåâÈíÆ */
        .animal-sound-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255,255,255,0.9);
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            font-size: 1.2em;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s;
        }

        .animal-sound-btn:hover {
            transform: scale(1.1);
        }

        /* Âä®Áâ©Áü•ËØÜÈóÆÁ≠î */
        .quiz-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 4000;
            backdrop-filter: blur(10px);
        }

        .quiz-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 25px;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .quiz-question {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c5530;
            margin-bottom: 20px;
            text-align: center;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quiz-option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
        }

        .quiz-option:hover {
            background: #e9ecef;
        }

        .quiz-option.correct {
            background: #d4edda;
            border-color: #28a745;
        }

        .quiz-option.incorrect {
            background: #f8d7da;
            border-color: #dc3545;
        }

        .quiz-result {
            text-align: center;
            margin-top: 20px;
            font-weight: bold;
        }

        /* Âä®Áâ©Êî∂ËóèÂÜå */
        .collection-book {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 2000;
            display: none;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
        }

        .collection-title {
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            color: #2c5530;
            margin-bottom: 20px;
        }

        .collection-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .collection-item {
            text-align: center;
            padding: 15px;
            border-radius: 15px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            transition: all 0.3s;
        }

        .collection-item.found {
            background: #d4edda;
            border-color: #28a745;
        }

        .collection-emoji {
            font-size: 2em;
            margin-bottom: 8px;
        }

        .collection-name {
            font-size: 0.9em;
            font-weight: bold;
            color: #2c5530;
        }

        /* ‰∫íÂä®ÊåâÈíÆÁªÑ */
        .interaction-buttons {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .interaction-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 25px;
            font-size: 14px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
            white-space: nowrap;
        }

        .interaction-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .interaction-btn.secondary {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
        }

        .interaction-btn.tertiary {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
        }

        /* Â¢ûÂº∫Â∫ÜÁ•ùÊïàÊûú */
        .celebration-enhanced {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1002;
            pointer-events: none;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ff6b6b;
            animation: confetti-fall 3s linear infinite;
        }

        .confetti:nth-child(2) { background: #4ecdc4; animation-delay: 0.5s; }
        .confetti:nth-child(3) { background: #ffe66d; animation-delay: 1s; }
        .confetti:nth-child(4) { background: #ff6b9d; animation-delay: 1.5s; }
        .confetti:nth-child(5) { background: #a8e6cf; animation-delay: 2s; }

        @keyframes confetti-fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        /* Ê®™Â±è‰ºòÂåñ */
        @media (orientation: landscape) and (max-height: 500px) {
            .header {
                margin-bottom: 10px;
            }
            
            .header h1 {
                font-size: 1.4em;
            }
            
            .stats-bar {
                padding: 10px;
            }
            
            .cards-container {
                gap: 10px;
            }
        }

        /* Â§ßÂ±èÂπï‰ºòÂåñ */
        @media (min-width: 768px) {
            .cards-container {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ü¶Ö ÂèåÊ∫™ÈÉ®ËêΩÂä®Áâ©Êé¢Á¥¢</h1>
        <p>Âú®ÊπøÂú∞‰øùÊä§Âå∫ÂØªÊâæËøô‰∫õÁ•ûÂ•áÁöÑÂä®Áâ©ÂêßÔºÅ</p>
        <div class="header-badge">
            <span>üåø Ëá™ÁÑ∂Êé¢Á¥¢</span>
            <span>üì± ÁßªÂä®‰ºòÂåñ</span>
        </div>
    </div>

    <div class="stats-bar">
        <div class="progress-container">
            <div class="progress-text">
                <span class="progress-icon">üéØ</span>
                Â∑≤ÂèëÁé∞: <span id="found-count">0</span> / <span id="total-count">17</span> ÁßçÂä®Áâ©
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
                <div class="progress-percentage" id="progress-percentage">0%</div>
            </div>
        </div>
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-icon">üê¶</div>
                <div class="stat-number" id="birds-found">0</div>
                <div class="stat-label">È∏üÁ±ª</div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">ü¶Å</div>
                <div class="stat-number" id="mammals-found">0</div>
                <div class="stat-label">Âì∫‰π≥Âä®Áâ©</div>
            </div>
            <div class="stat-item">
                <div class="stat-icon">ü¶é</div>
                <div class="stat-number" id="reptiles-found">0</div>
                <div class="stat-label">Áà¨Ë°åÂä®Áâ©</div>
            </div>
        </div>
    </div>

    <div class="controls">
        <button class="filter-btn active" data-filter="all">ÂÖ®ÈÉ®</button>
        <button class="filter-btn" data-filter="birds">üê¶ È∏üÁ±ª</button>
        <button class="filter-btn" data-filter="mammals">ü¶Å Âì∫‰π≥Âä®Áâ©</button>
        <button class="filter-btn" data-filter="reptiles">ü¶é Áà¨Ë°åÂä®Áâ©</button>
        <button class="filter-btn" data-filter="fish">üê† È±ºÁ±ª</button>
        <button class="filter-btn" data-filter="invertebrates">ü¶Ä Êó†ËÑäÊ§éÂä®Áâ©</button>
        <button class="reset-btn" onclick="showResetConfirm()">üîÑ ÈáçÁΩÆ</button>
    </div>

    <div class="cards-container" id="cards-container">
        <!-- Âì∫‰π≥Âä®Áâ© -->
        <div class="animal-card" data-category="mammals">
            <div class="card-image">üêøÔ∏è</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Êù°Á∫πÊùæÈº†</div>
                    <div class="card-category">Âì∫‰π≥Âä®Áâ©</div>
                </div>
                <div class="scientific-name">Plantain Squirrel, Callosciurus notatus</div>
                <div class="card-description">ËÉåÈÉ®ÊúâÊòéÊòæÁöÑÈªëËâ≤Êù°Á∫π„ÄÇÂñúÊ¨¢Âú®Ê†ë‰∏äÊ¥ªÂä®Ôºå‰ª•ÊûúÂÆû‰∏∫È£ü„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®Ê†ë‰∏äÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÂèëÂá∫Âê±Âê±Â£∞„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="mammals">
            <div class="card-image">üêí</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">ÈïøÂ∞æÁåïÁå¥</div>
                    <div class="card-category">Âì∫‰π≥Âä®Áâ©</div>
                </div>
                <div class="scientific-name">Long-tailed Macaque, Macaca fascicularis</div>
                <div class="card-description">Á§æ‰ºöÊÄßÂº∫ÁöÑÁÅµÈïøÁ±ªÂä®Áâ©„ÄÇÈÄÇÂ∫îËÉΩÂäõÂº∫ÔºåÂ∏∏Âú®ÊûóÂú∞Ê¥ªÂä®„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®Ê£ÆÊûóÂå∫ÂüüÂØªÊâæÔºåÊ≥®ÊÑè‰∏çË¶ÅÂñÇÈ£üÊàñÈù†ËøëÂÆÉ‰ª¨„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="mammals">
            <div class="card-image">ü¶á</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Â§ßËÄ≥Ëù†</div>
                    <div class="card-category">Âì∫‰π≥Âä®Áâ©</div>
                </div>
                <div class="scientific-name">Large-eared Horseshoe Bat, Rhinolophus philippinensis</div>
                <div class="card-description">ÁâπÂ§ßÁöÑËÄ≥ÊúµÊòØÂÖ∂ÊòæËëóÁâπÂæÅ„ÄÇÂ§úË°åÊÄßÂä®Áâ©ÔºåÂà©Áî®ÂõûÂ£∞ÂÆö‰ΩçÊçïÈ£üÊòÜËô´„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®ÈªÑÊòèÂíåÂ§úÊôöÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÂú®Á©∫‰∏≠ÊçïÈ£üÊòÜËô´„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <!-- Áà¨Ë°åÂä®Áâ© -->
        <div class="animal-card" data-category="reptiles">
            <div class="card-image">üêä</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Ê≤≥Âè£È≥Ñ</div>
                    <div class="card-category">Áà¨Ë°åÂä®Áâ©</div>
                </div>
                <div class="scientific-name">Estuarine Crocodile, Crocodylus porosus</div>
                <div class="card-description">‰∏ñÁïå‰∏äÊúÄÂ§ßÁöÑÁà¨Ë°åÂä®Áâ©‰πã‰∏Ä„ÄÇÊ†ñÊÅØ‰∫éÊ≤≥Âè£ÂíåÊ≤øÊµ∑Âú∞Âå∫„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÈùûÂ∏∏ÁΩïËßÅÔºÅ‰∏ªË¶ÅÂú®Ê∑±Ê∞¥Âå∫ÂüüÔºåËØ∑‰øùÊåÅÂÆâÂÖ®Ë∑ùÁ¶ª„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="reptiles">
            <div class="card-image">üêä</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Â∞èÂûãÈ≥ÑÈ±º</div>
                    <div class="card-category">Áà¨Ë°åÂä®Áâ©</div>
                </div>
                <div class="scientific-name">Freshwater Crocodile, Crocodylus johnsoni</div>
                <div class="card-description">‰ΩìÂûãËæÉÂ∞èÁöÑÊ∑°Ê∞¥È≥ÑÈ±º„ÄÇ‰∏ªË¶ÅÂú®Ê∑°Ê∞¥Âå∫ÂüüÊ¥ªÂä®„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÊûÅÂÖ∂ÁΩïËßÅÔºå‰∏ªË¶ÅÂú®Ê∑°Ê∞¥Âå∫Âüü„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="reptiles">
            <div class="card-image">ü¶é</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Ê∞¥Â∑®Ëú•</div>
                    <div class="card-category">Áà¨Ë°åÂä®Áâ©</div>
                </div>
                <div class="scientific-name">Water Monitor, Varanus salvator</div>
                <div class="card-description">Â§ßÂûãËú•Ëú¥ÔºåÂñÑ‰∫éÊ∏∏Ê≥≥„ÄÇÊùÇÈ£üÊÄßÔºåÈÄÇÂ∫îËÉΩÂäõÂº∫„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®Ê≥•Êª©„ÄÅÊ†ëÊûùÊàñÂ≤©Áü≥‰∏äÂØªÊâæÔºåÂÆÉ‰ª¨ÂñúÊ¨¢ÊôíÂ§™Èò≥„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="reptiles">
            <div class="card-image">üêç</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Áø†ÈùíËõá</div>
                    <div class="card-category">Áà¨Ë°åÂä®Áâ©</div>
                </div>
                <div class="scientific-name">Oriental Whip Snake, Ahaetulla prasina</div>
                <div class="card-description">Êñ∞Âä†Âù°Â∏∏ËßÅÁöÑÁø†ÁªøËâ≤Êó†ÊØíËõáÔºåË∫´‰ΩìÁªÜÈïøÔºåÂñÑ‰∫éÂú®Ê†ëÊûùÈó¥Ê¥ªÂä®„ÄÇ‰∏ªË¶Å‰ª•Â∞èÂûãÁà¨Ë°åÂä®Áâ©ÂíåÈ∏üÁ±ª‰∏∫È£ü„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®Ê†ëÊûùÂíåÁÅåÊú®‰∏õ‰∏≠ÂØªÊâæÔºåÂÆÉ‰ª¨ÂñúÊ¨¢Âú®ÁªøËâ≤Ê§çÁâ©‰∏≠ÈöêËóèÔºåË∫´‰Ωì‰ºöÈöèÁùÄÁéØÂ¢ÉÂèòÂåñÈ¢úËâ≤„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <!-- È±ºÁ±ª -->
        <div class="animal-card" data-category="fish">
            <div class="card-image">üê∏</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">ÂºπÊ∂ÇÈ±º</div>
                    <div class="card-category">È±ºÁ±ª</div>
                </div>
                <div class="scientific-name">Mudskipper, Periophthalmus spp.</div>
                <div class="card-description">ËÉΩÂú®Ê≥•Êª©‰∏ä"Ë°åËµ∞"ÁöÑÈ±ºÁ±ª„ÄÇÂÖ∑ÊúâÁâπÊÆäÁöÑÂëºÂê∏Á≥ªÁªü„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®ÈÄÄÊΩÆÊó∂ÁöÑÊ≥•Êª©‰∏äÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÂú®Ê≥•Âú∞‰∏äË∑≥Ë∑É„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="fish">
            <div class="card-image">üêü</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Ë∑≥È±º</div>
                    <div class="card-category">È±ºÁ±ª</div>
                </div>
                <div class="scientific-name">Climbing Perch, Anabas testudineus</div>
                <div class="card-description">ËÉΩÁü≠ÊöÇÁ¶ªÂºÄÊ∞¥Èù¢Âú®ÈôÜÂú∞ÁßªÂä®„ÄÇÊúâÁâπÊÆäÁöÑËæÖÂä©ÂëºÂê∏Âô®ÂÆò„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®Á∫¢Ê†ëÊûóÊ∞¥Âüü‰∏≠ÂØªÊâæÔºåÂÆÉ‰ª¨ÂñúÊ¨¢Âú®Ê†ëÊ†πÈôÑËøëÊ¥ªÂä®„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <!-- Êó†ËÑäÊ§éÂä®Áâ© -->
        <div class="animal-card" data-category="invertebrates">
            <div class="card-image">ü¶Ä</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">ÊãõÊΩÆËüπ</div>
                    <div class="card-category">Êó†ËÑäÊ§éÂä®Áâ©</div>
                </div>
                <div class="scientific-name">Fiddler Crab, Uca spp.</div>
                <div class="card-description">ÈõÑÊÄßÊúâ‰∏Ä‰∏™ÁâπÂ§ßÈí≥Â≠ê„ÄÇÁîüÊ¥ªÂú®ÊΩÆÈó¥Â∏¶Ê≥•Êª©„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®Ê≥•Êª©‰∏äÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÊàêÁæ§Ê¥ªÂä®ÔºåÂΩ¢ÊàêÁæé‰∏ΩÁöÑÂõæÊ°à„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="invertebrates">
            <div class="card-image">üêú</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">ËöÇËöÅ</div>
                    <div class="card-category">Êó†ËÑäÊ§éÂä®Áâ©</div>
                </div>
                <div class="scientific-name">Ants, Formicidae family</div>
                <div class="card-description">Á§æ‰ºöÊÄßÊòÜËô´ÔºåÁæ§Â±ÖÁîüÊ¥ª„ÄÇÂú®ÁîüÊÄÅÁ≥ªÁªü‰∏≠Ëµ∑ÈáçË¶Å‰ΩúÁî®„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®Ê£ÆÊûóÂú∞Èù¢ÂíåÊ†ëÂπ≤‰∏äÂØªÊâæÔºåÊ≥®ÊÑèËßÇÂØüÂÆÉ‰ª¨ÁöÑÊ¥ªÂä®ËΩ®Ëøπ„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="invertebrates">
            <div class="card-image">ü¶ã</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Ëù¥Ëù∂</div>
                    <div class="card-category">Êó†ËÑäÊ§éÂä®Áâ©</div>
                </div>
                <div class="scientific-name">Butterflies, Lepidoptera order</div>
                <div class="card-description">Ëâ≤ÂΩ©ÊñëÊñìÁöÑÊòÜËô´„ÄÇÊòØÈáçË¶ÅÁöÑÊéàÁ≤âËÄÖ„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®Ëä±‰∏õÂíåÂºÄÈòîÂå∫ÂüüÂØªÊâæÔºåÂÆÉ‰ª¨ÂñúÊ¨¢Âú®Èò≥ÂÖâ‰∏ãÈ£ûËàû„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <!-- È∏üÁ±ª -->
        <div class="animal-card" data-category="birds">
            <div class="card-image">ü¶¢</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Â∞èÁôΩÈπ≠</div>
                    <div class="card-category">È∏üÁ±ª</div>
                </div>
                <div class="scientific-name">Little Egret, Egretta garzetta</div>
                <div class="card-description">‰ºòÈõÖÁöÑÁôΩËâ≤Ê∞¥È∏üÔºåÂ∏∏Âú®ÊµÖÊ∞¥‰∏≠ËßÖÈ£ü„ÄÇÁâπÂæÅÊòØÈªëËâ≤ÈïøÂñôÂíåÈªÑËâ≤ËÑöÊéå„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®ÊµÖÊ∞¥Âå∫ÂüüÂØªÊâæÔºåÂÆÉ‰ª¨‰ºö‰ºòÈõÖÂú∞Êº´Ê≠•ÂØªÊâæÂ∞èÈ±º„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="birds">
            <div class="card-image">ü¶¢</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Ê¨ßÈπ≠</div>
                    <div class="card-category">È∏üÁ±ª</div>
                </div>
                <div class="scientific-name">Grey Heron, Ardea cinerea</div>
                <div class="card-description">‰ΩìÂûãËæÉÂ§ßÁöÑÊ∂âÁ¶ΩÔºåÁæΩÊØõÂëàÁÅ∞Ëâ≤„ÄÇÂñÑ‰∫éÂú®Ê∞¥ËæπÈùôÁ´ãÊçïÈ£üÈ±ºÁ±ª„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®Ê∑±Ê∞¥Âå∫ÂüüÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÈïøÊó∂Èó¥‰øùÊåÅÈùôÊ≠¢Áä∂ÊÄÅ„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="birds">
            <div class="card-image">ü¶Ö</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">ÁôΩËÖπÊµ∑Èõï</div>
                    <div class="card-category">È∏üÁ±ª</div>
                </div>
                <div class="scientific-name">White-bellied Sea Eagle, Haliaeetus leucogaster</div>
                <div class="card-description">Â§ßÂûãÁåõÁ¶ΩÔºåËÉ∏ËÖπÈÉ®‰∏∫ÁôΩËâ≤„ÄÇÂ∏∏Âú®Êµ∑Â≤∏Á∫ø‰∏äÁ©∫ÁõòÊóãÔºåÊçïÈ£üÈ±ºÁ±ª„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®ÂºÄÈòîÁöÑÊ∞¥Âüü‰∏äÁ©∫ÂØªÊâæÔºåÂÆÉ‰ª¨‰ºö‰ªéÈ´òÂ§Ñ‰øØÂÜ≤ÊçïÈ±º„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="birds">
            <div class="card-image">ü¶Ü</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">Áü∂Èπ¨</div>
                    <div class="card-category">È∏üÁ±ª</div>
                </div>
                <div class="scientific-name">Common Sandpiper, Actitis hypoleucos</div>
                <div class="card-description">Â∞èÂûãÊ∂âÁ¶ΩÔºåÂ∏∏Âú®Â≤©Áü≥ÂíåÊ≥•Êª©‰∏äÊ¥ªÂä®„ÄÇÂñÑ‰∫éÂú®ÊΩÆÈó¥Â∏¶ËßÖÈ£ü„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®Ê≥•Êª©ÂíåÂ≤©Áü≥Âå∫ÂüüÂØªÊâæÔºåÂÆÉ‰ª¨ÂñúÊ¨¢Âú®ÊΩÆÈó¥Â∏¶ËßÖÈ£ü„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>

        <div class="animal-card" data-category="birds">
            <div class="card-image">üê¶‚Äç‚¨õ</div>
            <div class="card-content">
                <div class="card-header">
                    <div class="card-title">‰πåÈ∏¶</div>
                    <div class="card-category">È∏üÁ±ª</div>
                </div>
                <div class="scientific-name">Large-billed Crow, Corvus macrorhynchos</div>
                <div class="card-description">ÂÖ®Ë∫´ÈªëËâ≤ÁöÑÂ§ßÂûãÈ∏üÁ±ª„ÄÇËÅ™ÊòéÊú∫Ë≠¶ÔºåÂ∏∏ÊàêÁæ§Ê¥ªÂä®„ÄÇ</div>
                <div class="card-tips">üí° ÂØªÊâæÊèêÁ§∫ÔºöÂú®ÂºÄÈòîÂå∫ÂüüÂíåÊ†ë‰∏äÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÂèëÂá∫Âìç‰∫ÆÁöÑÂè´Â£∞„ÄÇ</div>
                <button class="found-btn" onclick="markFound(this)">‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ</button>
            </div>
        </div>
    </div>

    <!-- ÈáçÁΩÆÁ°ÆËÆ§ÂØπËØùÊ°Ü -->
    <div class="modal" id="resetModal">
        <div class="modal-content">
            <h2>üîÑ ÈáçÊñ∞ÂºÄÂßãÊé¢Á¥¢</h2>
            <p>Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâÂ∑≤ÊâæÂà∞ÁöÑÂä®Áâ©ËÆ∞ÂΩïÂêóÔºü</p>
            <p>ËøôÂ∞ÜÈáçÁΩÆ‰Ω†ÁöÑÊé¢Á¥¢ËøõÂ∫¶Ôºå‰ΩÜ‰∏ç‰ºöÂΩ±Âìç‰Ω†ÁöÑÂ≠¶‰π†ÊàêÊûúÔºÅ</p>
            <button class="modal-btn" onclick="closeResetModal()">ÂèñÊ∂à</button>
            <button class="modal-btn danger" onclick="resetProgress()">Á°ÆÂÆöÈáçÁΩÆ</button>
        </div>
    </div>

    <!-- ‰∫íÂä®ÂÖÉÁ¥† -->
    <div class="interactive-elements">
        

        
        <button class="floating-btn bg-music-btn" onclick="toggleBackgroundMusic()" title="ËÉåÊôØÈü≥‰πê" id="bgMusicBtn">
            üéµ
        </button>
        
        <button class="floating-btn hint-toggle" onclick="showRandomHint()" title="ÈöèÊú∫ÊèêÁ§∫">
            üí°
        </button>
    </div>

    <!-- ‰∫íÂä®ÊåâÈíÆÁªÑ -->
    <div class="interaction-buttons">
        <button class="interaction-btn" onclick="showExplorationMap()">üó∫Ô∏è Êé¢Á¥¢Âú∞Âõæ</button>
        <button class="interaction-btn secondary" onclick="showCollectionBook()">üìö Êî∂ËóèÂÜå</button>
        <button class="interaction-btn tertiary" onclick="startQuiz()">üß† Áü•ËØÜÈóÆÁ≠î</button>
        <button class="interaction-btn" onclick="toggleFootprintTrail()">üë£ Ë∂≥ËøπËøΩË∏™</button>
    </div>

    <!-- Âä®Áâ©ËØ¶ÊÉÖÂºπÁ™ó -->
    <div class="animal-detail-modal" id="animalDetailModal">
        <div class="animal-detail-content">
            <div class="detail-header">
                <div class="detail-emoji" id="detailEmoji">ü¶Ö</div>
                <div class="detail-title" id="detailTitle">Âä®Áâ©ÂêçÁß∞</div>
                <div class="detail-scientific" id="detailScientific">ÁßëÂ≠¶ÂêçÁß∞</div>
            </div>
            <div class="detail-info">
                <div class="detail-section">
                    <h4>üìñ Âü∫Êú¨‰ø°ÊÅØ</h4>
                    <p id="detailDescription">Âä®Áâ©ÊèèËø∞</p>
                </div>
                <div class="detail-section">
                    <h4>üéØ ÂØªÊâæÊèêÁ§∫</h4>
                    <p id="detailTips">ÂØªÊâæÊèêÁ§∫</p>
                </div>
                <div class="detail-section">
                    <h4>üåç Ê†ñÊÅØÁéØÂ¢É</h4>
                    <p id="detailHabitat">Ê†ñÊÅØÁéØÂ¢É‰ø°ÊÅØ</p>
                </div>
                <div class="detail-section">
                    <h4>üïí ÊúÄ‰Ω≥ËßÇÂØüÊó∂Èó¥</h4>
                    <p id="detailTime">ÊúÄ‰Ω≥ËßÇÂØüÊó∂Èó¥</p>
                </div>
            </div>

            <button class="detail-close" onclick="closeAnimalDetail()">ÂÖ≥Èó≠</button>
        </div>
    </div>

    <!-- Êé¢Á¥¢Âú∞Âõæ -->
    <div class="exploration-map" id="explorationMap">
        <div class="map-title">üó∫Ô∏è ÂèåÊ∫™ÈÉ®ËêΩÊé¢Á¥¢Âú∞Âõæ</div>
        <div class="map-areas">
            <div class="map-area" data-area="forest">
                <div class="map-area-icon">üå≥</div>
                <div class="map-area-title">Ê£ÆÊûóÂå∫Âüü</div>
                <div class="map-area-progress">0/5 Âä®Áâ©</div>
            </div>
            <div class="map-area" data-area="water">
                <div class="map-area-icon">üíß</div>
                <div class="map-area-title">Ê∞¥ÂüüÂå∫Âüü</div>
                <div class="map-area-progress">0/5 Âä®Áâ©</div>
            </div>
            <div class="map-area" data-area="mudflat">
                <div class="map-area-icon">üèñÔ∏è</div>
                <div class="map-area-title">Ê≥•Êª©Âå∫Âüü</div>
                <div class="map-area-progress">0/1 Âä®Áâ©</div>
            </div>
            <div class="map-area" data-area="sky">
                <div class="map-area-icon">‚òÅÔ∏è</div>
                <div class="map-area-title">Â§©Á©∫Âå∫Âüü</div>
                <div class="map-area-progress">0/5 Âä®Áâ©</div>
            </div>
        </div>
        <button class="detail-close" onclick="closeExplorationMap()">ÂÖ≥Èó≠</button>
    </div>

    <!-- Âä®Áâ©Êî∂ËóèÂÜå -->
    <div class="collection-book" id="collectionBook">
        <div class="collection-title">üìö Âä®Áâ©Êî∂ËóèÂÜå</div>
        <div class="collection-grid" id="collectionGrid">
            <!-- Âä®ÊÄÅÁîüÊàêÊî∂ËóèÈ°π -->
        </div>
        <button class="detail-close" onclick="closeCollectionBook()">ÂÖ≥Èó≠</button>
    </div>

    <!-- Âä®Áâ©Ë∂≥ËøπËøΩË∏™ -->
    <div class="footprint-trail" id="footprintTrail">
        <div class="footprint-title">üë£ Âä®Áâ©Ë∂≥Ëøπ</div>
        <div class="footprint-grid" id="footprintGrid">
            <!-- Âä®ÊÄÅÁîüÊàêË∂≥Ëøπ -->
        </div>
    </div>

    <!-- Áü•ËØÜÈóÆÁ≠î -->
    <div class="quiz-modal" id="quizModal">
        <div class="quiz-content">
            <div class="quiz-question" id="quizQuestion">ÈóÆÈ¢òÂä†ËΩΩ‰∏≠...</div>
            <div class="quiz-options" id="quizOptions">
                <!-- Âä®ÊÄÅÁîüÊàêÈÄâÈ°π -->
            </div>
            <div class="quiz-result" id="quizResult"></div>
            <button class="detail-close" onclick="closeQuiz()">ÂÖ≥Èó≠</button>
        </div>
    </div>

    <!-- ÊèêÁ§∫Á≥ªÁªü -->
    <div class="hint-system" id="hintSystem">
        <div class="hint-content">
            <div class="hint-title">üí° Êé¢Á¥¢ÊèêÁ§∫</div>
            <div class="hint-text" id="hintText">ÁÇπÂáªÊèêÁ§∫ÊåâÈíÆËé∑ÂèñÊé¢Á¥¢Âª∫ËÆÆÔºÅ</div>
        </div>
        <button class="hint-close" onclick="closeHint()">Áü•ÈÅì‰∫Ü</button>
    </div>

    <!-- ÊàêÂ∞±Á≥ªÁªü -->
    <div class="achievement" id="achievement">
        <div class="achievement-icon" id="achievementIcon">üèÜ</div>
        <div class="achievement-title" id="achievementTitle">ÊàêÂ∞±Ëß£ÈîÅÔºÅ</div>
        <div class="achievement-desc" id="achievementDesc">ÊÅ≠ÂñúËé∑ÂæóÊñ∞ÊàêÂ∞±ÔºÅ</div>
    </div>


    <script>
        let foundCount = 0;
        const totalCount = 17;
        let foundAnimals = new Set();

        let achievements = new Set();
        
        // ËÉåÊôØÈü≥‰πêÁõ∏ÂÖ≥ÂèòÈáè
        let bgMusicEnabled = true; // ÈªòËÆ§ÂºÄÂêØ
        let bgMusicAudio = null;
        

        


        // ÊàêÂ∞±Á≥ªÁªü
        const achievementList = {
            'first_find': { icon: 'üéØ', title: 'ÂàùÊ¨°ÂèëÁé∞', desc: 'ÊâæÂà∞Á¨¨‰∏Ä‰∏™Âä®Áâ©ÔºÅ' },
            'five_found': { icon: 'üåü', title: 'Êé¢Á¥¢Êñ∞Êâã', desc: 'ÊâæÂà∞5‰∏™Âä®Áâ©ÔºÅ' },
            'ten_found': { icon: 'üèÜ', title: 'Êé¢Á¥¢‰∏ìÂÆ∂', desc: 'ÊâæÂà∞10‰∏™Âä®Áâ©ÔºÅ' },
            'all_found': { icon: 'üëë', title: 'Ëá™ÁÑ∂Â§ßÂ∏à', desc: 'ÊâæÂà∞ÊâÄÊúâÂä®Áâ©ÔºÅ' },
            'bird_expert': { icon: 'ü¶Ö', title: 'È∏üÁ±ª‰∏ìÂÆ∂', desc: 'ÊâæÂà∞ÊâÄÊúâÈ∏üÁ±ªÔºÅ' },
            'mammal_expert': { icon: 'ü¶Å', title: 'Âì∫‰π≥Âä®Áâ©‰∏ìÂÆ∂', desc: 'ÊâæÂà∞ÊâÄÊúâÂì∫‰π≥Âä®Áâ©ÔºÅ' },
            'reptile_expert': { icon: 'ü¶é', title: 'Áà¨Ë°åÂä®Áâ©‰∏ìÂÆ∂', desc: 'ÊâæÂà∞ÊâÄÊúâÁà¨Ë°åÂä®Áâ©ÔºÅ' }
        };

        // ÊèêÁ§∫Á≥ªÁªü
        const hintList = [
            "üí° ÊèêÁ§∫ÔºöÂú®ÊµÖÊ∞¥Âå∫ÂüüÂØªÊâæÂ∞èÁôΩÈπ≠ÔºåÂÆÉ‰ª¨ÂñúÊ¨¢Âú®ÊµÖÊ∞¥‰∏≠ËßÖÈ£ü",
            "üí° ÊèêÁ§∫ÔºöËßÇÂØüÊ≥•Êª©‰∏äÁöÑÂ∞èÊ¥ûÔºåÂèØËÉΩÊòØÊãõÊΩÆËüπÁöÑÂÆ∂",
            "üí° ÊèêÁ§∫ÔºöÊä¨Â§¥ÁúãÁúãÂ§©Á©∫ÔºåÁôΩËÖπÊµ∑ÈõïÂèØËÉΩÂú®ÁõòÊóã",
            "üí° ÊèêÁ§∫Ôºö‰ªîÁªÜÂê¨Â£∞Èü≥ÔºåÊù°Á∫πÊùæÈº†‰ºöÂèëÂá∫Âê±Âê±Â£∞",
            "üí° ÊèêÁ§∫ÔºöÂú®ÈÄÄÊΩÆÊó∂ÂéªÊ≥•Êª©ÔºåËÉΩÁúãÂà∞ÂºπÊ∂ÇÈ±ºË∑≥Ë∑É",
            "üí° ÊèêÁ§∫ÔºöÂú®Ê†ë‰∏äÂØªÊâæÔºåÈïøÂ∞æÁåïÁå¥ÂñúÊ¨¢Âú®Ê†ë‰∏äÊ¥ªÂä®",
            "üí° ÊèêÁ§∫ÔºöËßÇÂØüÊ∞¥Èù¢ÔºåÊ∞¥Â∑®Ëú•ÂñúÊ¨¢Âú®Ê∞¥ËæπÊôíÂ§™Èò≥",
            "üí° ÊèêÁ§∫Ôºö‰ªîÁªÜËßÇÂØüÊ†ëÊûùÂíåÁÅåÊú®‰∏õÔºåÁø†ÈùíËõáÂñúÊ¨¢Âú®ÁªøËâ≤Ê§çÁâ©‰∏≠ÈöêËóèÔºåË∫´‰Ωì‰ºöÈöèÁéØÂ¢ÉÂèòËâ≤",
            "üí° ÊèêÁ§∫ÔºöÂú®Ëä±‰∏õ‰∏≠ÂØªÊâæÔºåËù¥Ëù∂ÂñúÊ¨¢Âú®Ëä±Èó¥È£ûËàû",
            "üí° ÊèêÁ§∫ÔºöÊ≥®ÊÑèÂú∞Èù¢ÔºåËöÇËöÅ‰ºöÊéíÊàêÈòü‰ºçÊê¨ËøêÈ£üÁâ©",
            "üí° ÊèêÁ§∫ÔºöÂú®Á∫¢Ê†ëÊûóÊ∞¥ÂüüÂØªÊâæÔºåË∑≥È±ºÂñúÊ¨¢Âú®Ê†ëÊ†πÈôÑËøë",
            "üí° ÊèêÁ§∫Ôºö‰øùÊåÅÂÆâÈùôÔºåÂæàÂ§öÂä®Áâ©‰ºöË¢´Â£∞Èü≥ÂêìË∑ë",
            "üí° ÊèêÁ§∫ÔºöÂ∏¶‰∏äÊúõËøúÈïúÔºåÂèØ‰ª•Êõ¥Ê∏ÖÊ•öÂú∞ËßÇÂØüÈ∏üÁ±ª",
            "üí° ÊèêÁ§∫ÔºöÈÄâÊã©Ê∏ÖÊô®ÊàñÂÇçÊôöÔºåÂä®Áâ©Ê¥ªÂä®Êõ¥È¢ëÁπÅ",
            "üí° ÊèêÁ§∫ÔºöÊ≥®ÊÑèÂÆâÂÖ®Ôºå‰∏çË¶ÅÈù†ËøëÂç±Èô©ÁöÑÂä®Áâ©",
            "üí° ÊèêÁ§∫ÔºöËÆ∞ÂΩï‰Ω†ÁöÑÂèëÁé∞ÔºåËøôÂæàÊúâË∂£ÔºÅ"
        ];

        // ‰ªéÊú¨Âú∞Â≠òÂÇ®Âä†ËΩΩËøõÂ∫¶
        function loadProgress() {
            try {
                const saved = localStorage.getItem('animalProgress');
                if (saved) {
                    foundAnimals = new Set(JSON.parse(saved));
                    foundCount = foundAnimals.size;
                    updateUI();
                    console.log('Â∑≤Âä†ËΩΩ‰øùÂ≠òÁöÑËøõÂ∫¶:', foundCount, '‰∏™Âä®Áâ©');
                }
            } catch (error) {
                console.error('Âä†ËΩΩËøõÂ∫¶Â§±Ë¥•:', error);
                // Â¶ÇÊûúÂä†ËΩΩÂ§±Ë¥•ÔºåÊ∏ÖÈô§ÂèØËÉΩÊçüÂùèÁöÑÊï∞ÊçÆ
                localStorage.removeItem('animalProgress');
            }
        }

        // ‰øùÂ≠òËøõÂ∫¶Âà∞Êú¨Âú∞Â≠òÂÇ®
        function saveProgress() {
            try {
                localStorage.setItem('animalProgress', JSON.stringify([...foundAnimals]));
                console.log('ËøõÂ∫¶Â∑≤‰øùÂ≠ò:', foundCount, '‰∏™Âä®Áâ©');
            } catch (error) {
                console.error('‰øùÂ≠òËøõÂ∫¶Â§±Ë¥•:', error);
                // Â¶ÇÊûú‰øùÂ≠òÂ§±Ë¥•ÔºåÂ∞ùËØïÊ∏ÖÈô§‰∏Ä‰∫õÊï∞ÊçÆ
                try {
                    localStorage.clear();
                    localStorage.setItem('animalProgress', JSON.stringify([...foundAnimals]));
                } catch (e) {
                    console.error('Êó†Ê≥ï‰øùÂ≠òËøõÂ∫¶ÔºålocalStorageÂèØËÉΩ‰∏çÂèØÁî®');
                }
            }
        }

        // ÈáçÁΩÆËøõÂ∫¶
        function resetProgress() {
            foundAnimals.clear();
            foundCount = 0;
            updateUI();
            saveProgress();
            closeResetModal();
            
            // ÊòæÁ§∫ÈáçÁΩÆÊàêÂäüÊ∂àÊÅØ
            setTimeout(() => {
                alert('üéØ Êé¢Á¥¢Â∑≤ÈáçÁΩÆÔºÅÂºÄÂßãÊñ∞ÁöÑÂÜíÈô©ÂêßÔºÅ');
            }, 100);
        }

        // ÊòæÁ§∫ÈáçÁΩÆÁ°ÆËÆ§ÂØπËØùÊ°Ü
        function showResetConfirm() {
            document.getElementById('resetModal').style.display = 'block';
        }

        // ÂÖ≥Èó≠ÈáçÁΩÆÁ°ÆËÆ§ÂØπËØùÊ°Ü
        function closeResetModal() {
            document.getElementById('resetModal').style.display = 'none';
        }

        // Êõ¥Êñ∞UIÊòæÁ§∫
        function updateUI() {
            document.querySelectorAll('.animal-card').forEach(card => {
                const animalName = card.querySelector('.card-title').textContent;
                const button = card.querySelector('.found-btn');
                
                if (foundAnimals.has(animalName)) {
                    card.classList.add('found');
                    button.classList.add('found');
                    button.textContent = 'üéâ Â∑≤ÊâæÂà∞ÔºÅ';
                } else {
                    card.classList.remove('found');
                    button.classList.remove('found');
                    button.textContent = '‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ';
                }
            });
            updateProgress();
        }

        // Â∫ÜÁ•ùÊïàÊûú
        function createCelebration() {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            celebration.innerHTML = 'üéâ';
            document.body.appendChild(celebration);

            // Â¢ûÂº∫Â∫ÜÁ•ùÊïàÊûú
            if (soundEnabled) {
                createConfettiEffect();
            }

            setTimeout(() => {
                if (celebration.parentNode) {
                    celebration.parentNode.removeChild(celebration);
                }
            }, 2000);
        }

        // ÂΩ©Â∏¶ÊïàÊûú
        function createConfettiEffect() {
            const confetti = document.createElement('div');
            confetti.className = 'celebration-enhanced';
            
            for (let i = 0; i < 20; i++) {
                const piece = document.createElement('div');
                piece.className = 'confetti';
                piece.style.left = Math.random() * 100 + 'vw';
                piece.style.animationDelay = Math.random() * 2 + 's';
                confetti.appendChild(piece);
            }
            
            document.body.appendChild(confetti);
            
            setTimeout(() => {
                if (confetti.parentNode) {
                    confetti.parentNode.removeChild(confetti);
                }
            }, 3000);
        }

        // Â£∞Èü≥ÊéßÂà∂
        function toggleSound() {
            soundEnabled = !soundEnabled;
            const soundBtn = document.querySelector('.sound-toggle');
            soundBtn.innerHTML = soundEnabled ? 'üîä' : 'üîá';
            soundBtn.style.background = soundEnabled ? 
                'linear-gradient(135deg, #4ecdc4, #44a08d)' : 
                'linear-gradient(135deg, #95a5a6, #7f8c8d)';
        }

        // ÈöèÊú∫ÊèêÁ§∫
        function showRandomHint() {
            const randomHint = hintList[Math.floor(Math.random() * hintList.length)];
            document.getElementById('hintText').textContent = randomHint;
            document.getElementById('hintSystem').style.display = 'block';
        }

        // ÂÖ≥Èó≠ÊèêÁ§∫
        function closeHint() {
            document.getElementById('hintSystem').style.display = 'none';
        }

        // ÊòæÁ§∫ÊàêÂ∞±
        function showAchievement(achievementKey) {
            if (achievements.has(achievementKey)) return;
            
            achievements.add(achievementKey);
            const achievement = achievementList[achievementKey];
            
            document.getElementById('achievementIcon').textContent = achievement.icon;
            document.getElementById('achievementTitle').textContent = achievement.title;
            document.getElementById('achievementDesc').textContent = achievement.desc;
            
            const achievementElement = document.getElementById('achievement');
            achievementElement.style.display = 'block';
            
            setTimeout(() => {
                achievementElement.style.display = 'none';
            }, 3000);
        }

        // Ê£ÄÊü•ÊàêÂ∞±
        function checkAchievements() {
            // Ê£ÄÊü•Êï∞ÈáèÊàêÂ∞±
            if (foundCount === 1 && !achievements.has('first_find')) {
                showAchievement('first_find');
            }
            if (foundCount === 5 && !achievements.has('five_found')) {
                showAchievement('five_found');
            }
            if (foundCount === 10 && !achievements.has('ten_found')) {
                showAchievement('ten_found');
            }
            if (foundCount === totalCount && !achievements.has('all_found')) {
                showAchievement('all_found');
            }

            // Ê£ÄÊü•ÂàÜÁ±ªÊàêÂ∞±
            const birdCount = document.querySelectorAll('.animal-card[data-category="birds"].found').length;
            const mammalCount = document.querySelectorAll('.animal-card[data-category="mammals"].found').length;
            const reptileCount = document.querySelectorAll('.animal-card[data-category="reptiles"].found').length;

            if (birdCount === 5 && !achievements.has('bird_expert')) {
                showAchievement('bird_expert');
            }
            if (mammalCount === 3 && !achievements.has('mammal_expert')) {
                showAchievement('mammal_expert');
            }
            if (reptileCount === 3 && !achievements.has('reptile_expert')) {
                showAchievement('reptile_expert');
            }
        }

        // ËøáÊª§ÂäüËÉΩ
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const filter = this.getAttribute('data-filter');
                
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                document.querySelectorAll('.animal-card').forEach(card => {
                    if (filter === 'all' || card.getAttribute('data-category') === filter) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });

        // Ê†áËÆ∞ÊâæÂà∞ÁöÑÂä®Áâ©
        function markFound(button) {
            const card = button.closest('.animal-card');
            const animalName = card.querySelector('.card-title').textContent;

            if (foundAnimals.has(animalName)) {
                // ÂèñÊ∂àÊ†áËÆ∞
                foundAnimals.delete(animalName);
                foundCount--;
                button.classList.remove('found');
                button.textContent = '‚úÖ ÊàëÊâæÂà∞‰∫ÜÔºÅ';
                card.classList.remove('found');
            } else {
                // Ê†áËÆ∞‰∏∫ÊâæÂà∞
                foundAnimals.add(animalName);
                foundCount++;
                button.classList.add('found');
                button.textContent = 'üéâ Â∑≤ÊâæÂà∞ÔºÅ';
                card.classList.add('found');
                
                // Â∫ÜÁ•ùÊïàÊûú
                createCelebration();
                
                // Ê£ÄÊü•ÊàêÂ∞±
                checkAchievements();
                
                // Ëß¶ËßâÂèçÈ¶àÔºàÂ¶ÇÊûúÊîØÊåÅÔºâ
                if (navigator.vibrate) {
                    navigator.vibrate(100);
                }
            }
            
            updateProgress();
            saveProgress();
        }

        // Êõ¥Êñ∞ËøõÂ∫¶
        function updateProgress() {
            const progressFill = document.getElementById('progress-fill');
            const progressPercentage = document.getElementById('progress-percentage');
            const foundCountElement = document.getElementById('found-count');
            const totalCountElement = document.getElementById('total-count');
            
            const percentage = (foundCount / totalCount) * 100;
            progressFill.style.width = percentage + '%';
            progressPercentage.textContent = Math.round(percentage) + '%';
            foundCountElement.textContent = foundCount;
            totalCountElement.textContent = totalCount;
            
            // Êõ¥Êñ∞ÂàÜÁ±ªÁªüËÆ°
            updateCategoryStats();
            
            if (percentage >= 100) {
                progressFill.style.background = 'linear-gradient(90deg, #ffd700, #ffed4e)';
                setTimeout(() => {
                    alert('üéâ ÊÅ≠ÂñúÔºÅ‰Ω†Â∑≤ÁªèÊâæÂà∞‰∫ÜÊâÄÊúâÂä®Áâ©ÔºÅ‰Ω†ÊòØÁúüÊ≠£ÁöÑËá™ÁÑ∂Êé¢Á¥¢ÂÆ∂ÔºÅ');
                }, 500);
            } else if (percentage >= 75) {
                progressFill.style.background = 'linear-gradient(90deg, #28a745, #20c997)';
            } else if (percentage >= 50) {
                progressFill.style.background = 'linear-gradient(90deg, #ffc107, #ffca2c)';
            } else {
                progressFill.style.background = 'linear-gradient(90deg, #dc3545, #e74c3c)';
            }
        }

        // Êõ¥Êñ∞ÂàÜÁ±ªÁªüËÆ°
        function updateCategoryStats() {
            const categories = ['birds', 'mammals', 'reptiles'];
            categories.forEach(category => {
                const count = document.querySelectorAll(`.animal-card[data-category="${category}"].found`).length;
                document.getElementById(`${category}-found`).textContent = count;
            });
        }

        // ÁÇπÂáªÊ®°ÊÄÅÊ°ÜÂ§ñÈÉ®ÂÖ≥Èó≠
        document.getElementById('resetModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeResetModal();
            }
        });

        // Èò≤Ê≠¢È°µÈù¢Áº©Êîæ
        document.addEventListener('gesturestart', function(e) {
            e.preventDefault();
        });

        // Èò≤Ê≠¢ÂèåÂáªÁº©Êîæ
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Âä®Áâ©ËØ¶ÁªÜ‰ø°ÊÅØÊï∞ÊçÆ
        const animalDetails = {
            'Êù°Á∫πÊùæÈº†': {
                emoji: 'üêøÔ∏è',
                scientific: 'Plantain Squirrel, Callosciurus notatus',
                description: 'ËÉåÈÉ®ÊúâÊòéÊòæÁöÑÈªëËâ≤Êù°Á∫π„ÄÇÂñúÊ¨¢Âú®Ê†ë‰∏äÊ¥ªÂä®Ôºå‰ª•ÊûúÂÆû‰∏∫È£ü„ÄÇ',
                tips: 'Âú®Ê†ë‰∏äÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÂèëÂá∫Âê±Âê±Â£∞„ÄÇ',
                habitat: 'Ê£ÆÊûó„ÄÅÂÖ¨Âõ≠„ÄÅËä±Âõ≠Á≠âÊúâÊ†ëÊú®ÁöÑÁéØÂ¢É',
                time: 'Ê∏ÖÊô®ÂíåÂÇçÊôöÔºåÂ§©Ê∞îÊô¥ÊúóÊó∂Ê¥ªÂä®ÊúÄÈ¢ëÁπÅ'
            },
            'ÈïøÂ∞æÁåïÁå¥': {
                emoji: 'üêí',
                scientific: 'Long-tailed Macaque, Macaca fascicularis',
                description: 'Á§æ‰ºöÊÄßÂº∫ÁöÑÁÅµÈïøÁ±ªÂä®Áâ©„ÄÇÈÄÇÂ∫îËÉΩÂäõÂº∫ÔºåÂ∏∏Âú®ÊûóÂú∞Ê¥ªÂä®„ÄÇ',
                tips: 'Âú®Ê£ÆÊûóÂå∫ÂüüÂØªÊâæÔºåÊ≥®ÊÑè‰∏çË¶ÅÂñÇÈ£üÊàñÈù†ËøëÂÆÉ‰ª¨„ÄÇ',
                habitat: 'ÁÉ≠Â∏¶Ê£ÆÊûó„ÄÅÁ∫¢Ê†ëÊûó„ÄÅÊ≤øÊµ∑Âú∞Âå∫',
                time: 'ÂÖ®Â§©Ê¥ªÂä®Ôºå‰ΩÜÊ∏ÖÊô®ÂíåÂÇçÊôöÊúÄÊ¥ªË∑É'
            },
            'Â§ßËÄ≥Ëù†': {
                emoji: 'ü¶á',
                scientific: 'Large-eared Horseshoe Bat, Rhinolophus philippinensis',
                description: 'ÁâπÂ§ßÁöÑËÄ≥ÊúµÊòØÂÖ∂ÊòæËëóÁâπÂæÅ„ÄÇÂ§úË°åÊÄßÂä®Áâ©ÔºåÂà©Áî®ÂõûÂ£∞ÂÆö‰ΩçÊçïÈ£üÊòÜËô´„ÄÇ',
                tips: 'Âú®ÈªÑÊòèÂíåÂ§úÊôöÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÂú®Á©∫‰∏≠ÊçïÈ£üÊòÜËô´„ÄÇ',
                habitat: 'Ê¥ûÁ©¥„ÄÅÊ†ëÊ¥û„ÄÅÂª∫Á≠ëÁâ©ÁºùÈöô',
                time: 'ÈªÑÊòèÂà∞ÈªéÊòéÔºåÂ§úÈó¥Ê¥ªÂä®'
            },
            'Ê≤≥Âè£È≥Ñ': {
                emoji: 'üêä',
                scientific: 'Estuarine Crocodile, Crocodylus porosus',
                description: '‰∏ñÁïå‰∏äÊúÄÂ§ßÁöÑÁà¨Ë°åÂä®Áâ©‰πã‰∏Ä„ÄÇÊ†ñÊÅØ‰∫éÊ≤≥Âè£ÂíåÊ≤øÊµ∑Âú∞Âå∫„ÄÇ',
                tips: 'ÈùûÂ∏∏ÁΩïËßÅÔºÅ‰∏ªË¶ÅÂú®Ê∑±Ê∞¥Âå∫ÂüüÔºåËØ∑‰øùÊåÅÂÆâÂÖ®Ë∑ùÁ¶ª„ÄÇ',
                habitat: 'Ê≤≥Âè£„ÄÅÁ∫¢Ê†ëÊûó„ÄÅÊ≤øÊµ∑Ê∞¥Âüü',
                time: 'ÂÖ®Â§©Ê¥ªÂä®Ôºå‰ΩÜÊ∏ÖÊô®ÂíåÂÇçÊôöÊúÄÊ¥ªË∑É'
            },
            'Â∞èÂûãÈ≥ÑÈ±º': {
                emoji: 'üêä',
                scientific: 'Freshwater Crocodile, Crocodylus johnsoni',
                description: '‰ΩìÂûãËæÉÂ∞èÁöÑÊ∑°Ê∞¥È≥ÑÈ±º„ÄÇ‰∏ªË¶ÅÂú®Ê∑°Ê∞¥Âå∫ÂüüÊ¥ªÂä®„ÄÇ',
                tips: 'ÊûÅÂÖ∂ÁΩïËßÅÔºå‰∏ªË¶ÅÂú®Ê∑°Ê∞¥Âå∫Âüü„ÄÇ',
                habitat: 'Ê∑°Ê∞¥Ê≤≥ÊµÅ„ÄÅÊπñÊ≥ä„ÄÅÊ≤ºÊ≥Ω',
                time: 'ÂÖ®Â§©Ê¥ªÂä®Ôºå‰ΩÜÊ∏ÖÊô®ÂíåÂÇçÊôöÊúÄÊ¥ªË∑É'
            },
            'Ê∞¥Â∑®Ëú•': {
                emoji: 'ü¶é',
                scientific: 'Water Monitor, Varanus salvator',
                description: 'Â§ßÂûãËú•Ëú¥ÔºåÂñÑ‰∫éÊ∏∏Ê≥≥„ÄÇÊùÇÈ£üÊÄßÔºåÈÄÇÂ∫îËÉΩÂäõÂº∫„ÄÇ',
                tips: 'Âú®Ê≥•Êª©„ÄÅÊ†ëÊûùÊàñÂ≤©Áü≥‰∏äÂØªÊâæÔºåÂÆÉ‰ª¨ÂñúÊ¨¢ÊôíÂ§™Èò≥„ÄÇ',
                habitat: 'Ê≤≥ÊµÅ„ÄÅÊπñÊ≥ä„ÄÅÊ≤ºÊ≥Ω„ÄÅÁ∫¢Ê†ëÊûó',
                time: 'ÁôΩÂ§©Ê¥ªÂä®ÔºåÂñúÊ¨¢Âú®Èò≥ÂÖâ‰∏ãÊôíÂ§™Èò≥'
            },
            'Áø†ÈùíËõá': {
                emoji: 'üêç',
                scientific: 'Oriental Whip Snake, Ahaetulla prasina',
                description: 'Êñ∞Âä†Âù°Â∏∏ËßÅÁöÑÁø†ÁªøËâ≤Êó†ÊØíËõáÔºåË∫´‰ΩìÁªÜÈïøÔºåÂñÑ‰∫éÂú®Ê†ëÊûùÈó¥Ê¥ªÂä®„ÄÇ‰∏ªË¶Å‰ª•Â∞èÂûãÁà¨Ë°åÂä®Áâ©ÂíåÈ∏üÁ±ª‰∏∫È£ü„ÄÇ',
                tips: 'Âú®Ê†ëÊûùÂíåÁÅåÊú®‰∏õ‰∏≠ÂØªÊâæÔºåÂÆÉ‰ª¨ÂñúÊ¨¢Âú®ÁªøËâ≤Ê§çÁâ©‰∏≠ÈöêËóèÔºåË∫´‰Ωì‰ºöÈöèÁùÄÁéØÂ¢ÉÂèòÂåñÈ¢úËâ≤„ÄÇ',
                habitat: 'Ê†ëÊûù„ÄÅÁÅåÊú®‰∏õ„ÄÅÊ£ÆÊûó„ÄÅËä±Âõ≠„ÄÅÂÖ¨Âõ≠',
                time: 'ÁôΩÂ§©Ê¥ªÂä®ÔºåÁâπÂà´ÊòØÊ∏ÖÊô®ÂíåÂÇçÊôö'
            },
            'ÂºπÊ∂ÇÈ±º': {
                emoji: 'üê∏',
                scientific: 'Mudskipper, Periophthalmus spp.',
                description: 'ËÉΩÂú®Ê≥•Êª©‰∏ä"Ë°åËµ∞"ÁöÑÈ±ºÁ±ª„ÄÇÂÖ∑ÊúâÁâπÊÆäÁöÑÂëºÂê∏Á≥ªÁªü„ÄÇ',
                tips: 'Âú®ÈÄÄÊΩÆÊó∂ÁöÑÊ≥•Êª©‰∏äÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÂú®Ê≥•Âú∞‰∏äË∑≥Ë∑É„ÄÇ',
                habitat: 'ÊΩÆÈó¥Â∏¶Ê≥•Êª©„ÄÅÁ∫¢Ê†ëÊûóÊ†πÈÉ®',
                time: 'ÈÄÄÊΩÆÊó∂ÔºåÁâπÂà´ÊòØÊ∏ÖÊô®ÂíåÂÇçÊôö'
            },
            'Ë∑≥È±º': {
                emoji: 'üêü',
                scientific: 'Climbing Perch, Anabas testudineus',
                description: 'ËÉΩÁü≠ÊöÇÁ¶ªÂºÄÊ∞¥Èù¢Âú®ÈôÜÂú∞ÁßªÂä®„ÄÇÊúâÁâπÊÆäÁöÑËæÖÂä©ÂëºÂê∏Âô®ÂÆò„ÄÇ',
                tips: 'Âú®Á∫¢Ê†ëÊûóÊ∞¥Âüü‰∏≠ÂØªÊâæÔºåÂÆÉ‰ª¨ÂñúÊ¨¢Âú®Ê†ëÊ†πÈôÑËøëÊ¥ªÂä®„ÄÇ',
                habitat: 'Ê∑°Ê∞¥Ê∞¥Âüü„ÄÅÁ∫¢Ê†ëÊûó„ÄÅÊ≤ºÊ≥Ω',
                time: 'ÂÖ®Â§©Ê¥ªÂä®Ôºå‰ΩÜÊ∏ÖÊô®ÂíåÂÇçÊôöÊúÄÊ¥ªË∑É'
            },
            'ÊãõÊΩÆËüπ': {
                emoji: 'ü¶Ä',
                scientific: 'Fiddler Crab, Uca spp.',
                description: 'ÈõÑÊÄßÊúâ‰∏Ä‰∏™ÁâπÂ§ßÈí≥Â≠ê„ÄÇÁîüÊ¥ªÂú®ÊΩÆÈó¥Â∏¶Ê≥•Êª©„ÄÇ',
                tips: 'Âú®Ê≥•Êª©‰∏äÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÊàêÁæ§Ê¥ªÂä®ÔºåÂΩ¢ÊàêÁæé‰∏ΩÁöÑÂõæÊ°à„ÄÇ',
                habitat: 'ÊΩÆÈó¥Â∏¶Ê≥•Êª©„ÄÅÁ∫¢Ê†ëÊûóÊ†πÈÉ®',
                time: 'ÈÄÄÊΩÆÊó∂ÔºåÁâπÂà´ÊòØÊ∏ÖÊô®ÂíåÂÇçÊôö'
            },
            'ËöÇËöÅ': {
                emoji: 'üêú',
                scientific: 'Ants, Formicidae family',
                description: 'Á§æ‰ºöÊÄßÊòÜËô´ÔºåÁæ§Â±ÖÁîüÊ¥ª„ÄÇÂú®ÁîüÊÄÅÁ≥ªÁªü‰∏≠Ëµ∑ÈáçË¶Å‰ΩúÁî®„ÄÇ',
                tips: 'Âú®Ê£ÆÊûóÂú∞Èù¢ÂíåÊ†ëÂπ≤‰∏äÂØªÊâæÔºåÊ≥®ÊÑèËßÇÂØüÂÆÉ‰ª¨ÁöÑÊ¥ªÂä®ËΩ®Ëøπ„ÄÇ',
                habitat: 'Ê£ÆÊûó„ÄÅËçâÂú∞„ÄÅÂúüÂ£§„ÄÅÊ†ëÂπ≤',
                time: 'ÂÖ®Â§©Ê¥ªÂä®Ôºå‰ΩÜÊ∏ÖÊô®ÂíåÂÇçÊôöÊúÄÊ¥ªË∑É'
            },
            'Ëù¥Ëù∂': {
                emoji: 'ü¶ã',
                scientific: 'Butterflies, Lepidoptera order',
                description: 'Ëâ≤ÂΩ©ÊñëÊñìÁöÑÊòÜËô´„ÄÇÊòØÈáçË¶ÅÁöÑÊéàÁ≤âËÄÖ„ÄÇ',
                tips: 'Âú®Ëä±‰∏õÂíåÂºÄÈòîÂå∫ÂüüÂØªÊâæÔºåÂÆÉ‰ª¨ÂñúÊ¨¢Âú®Èò≥ÂÖâ‰∏ãÈ£ûËàû„ÄÇ',
                habitat: 'Ëä±‰∏õ„ÄÅËçâÂú∞„ÄÅÊ£ÆÊûóËæπÁºò',
                time: 'ÁôΩÂ§©ÔºåÁâπÂà´ÊòØÈò≥ÂÖâÂÖÖË∂≥ÁöÑÊó∂ÂÄô'
            },
            'Â∞èÁôΩÈπ≠': {
                emoji: 'ü¶¢',
                scientific: 'Little Egret, Egretta garzetta',
                description: '‰ºòÈõÖÁöÑÁôΩËâ≤Ê∞¥È∏üÔºåÂ∏∏Âú®ÊµÖÊ∞¥‰∏≠ËßÖÈ£ü„ÄÇÁâπÂæÅÊòØÈªëËâ≤ÈïøÂñôÂíåÈªÑËâ≤ËÑöÊéå„ÄÇ',
                tips: 'Âú®ÊµÖÊ∞¥Âå∫ÂüüÂØªÊâæÔºåÂÆÉ‰ª¨‰ºö‰ºòÈõÖÂú∞Êº´Ê≠•ÂØªÊâæÂ∞èÈ±º„ÄÇ',
                habitat: 'ÊµÖÊ∞¥Âå∫Âüü„ÄÅÊπøÂú∞„ÄÅÊ≤≥ÊµÅ„ÄÅÊπñÊ≥ä',
                time: 'Ê∏ÖÊô®ÂíåÂÇçÊôöÔºåÈÄÄÊΩÆÊó∂'
            },
            'Ê¨ßÈπ≠': {
                emoji: 'ü¶¢',
                scientific: 'Grey Heron, Ardea cinerea',
                description: '‰ΩìÂûãËæÉÂ§ßÁöÑÊ∂âÁ¶ΩÔºåÁæΩÊØõÂëàÁÅ∞Ëâ≤„ÄÇÂñÑ‰∫éÂú®Ê∞¥ËæπÈùôÁ´ãÊçïÈ£üÈ±ºÁ±ª„ÄÇ',
                tips: 'Âú®Ê∑±Ê∞¥Âå∫ÂüüÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÈïøÊó∂Èó¥‰øùÊåÅÈùôÊ≠¢Áä∂ÊÄÅ„ÄÇ',
                habitat: 'Ê∑±Ê∞¥Âå∫Âüü„ÄÅÊ≤≥ÊµÅ„ÄÅÊπñÊ≥ä„ÄÅÊ≤ºÊ≥Ω',
                time: 'Ê∏ÖÊô®ÂíåÂÇçÊôöÔºåÂÖ®Â§©ÈÉΩÊúâÊ¥ªÂä®'
            },
            'ÁôΩËÖπÊµ∑Èõï': {
                emoji: 'ü¶Ö',
                scientific: 'White-bellied Sea Eagle, Haliaeetus leucogaster',
                description: 'Â§ßÂûãÁåõÁ¶ΩÔºåËÉ∏ËÖπÈÉ®‰∏∫ÁôΩËâ≤„ÄÇÂ∏∏Âú®Êµ∑Â≤∏Á∫ø‰∏äÁ©∫ÁõòÊóãÔºåÊçïÈ£üÈ±ºÁ±ª„ÄÇ',
                tips: 'Âú®ÂºÄÈòîÁöÑÊ∞¥Âüü‰∏äÁ©∫ÂØªÊâæÔºåÂÆÉ‰ª¨‰ºö‰ªéÈ´òÂ§Ñ‰øØÂÜ≤ÊçïÈ±º„ÄÇ',
                habitat: 'Êµ∑Â≤∏Á∫ø„ÄÅÂºÄÈòîÊ∞¥Âüü„ÄÅÂ≤õÂ±ø',
                time: 'ÁôΩÂ§©ÔºåÁâπÂà´ÊòØÊ∏ÖÊô®ÂíåÂÇçÊôö'
            },
            'Áü∂Èπ¨': {
                emoji: 'ü¶Ü',
                scientific: 'Common Sandpiper, Actitis hypoleucos',
                description: 'Â∞èÂûãÊ∂âÁ¶ΩÔºåÂ∏∏Âú®Â≤©Áü≥ÂíåÊ≥•Êª©‰∏äÊ¥ªÂä®„ÄÇÂñÑ‰∫éÂú®ÊΩÆÈó¥Â∏¶ËßÖÈ£ü„ÄÇ',
                tips: 'Âú®Ê≥•Êª©ÂíåÂ≤©Áü≥Âå∫ÂüüÂØªÊâæÔºåÂÆÉ‰ª¨ÂñúÊ¨¢Âú®ÊΩÆÈó¥Â∏¶ËßÖÈ£ü„ÄÇ',
                habitat: 'ÊΩÆÈó¥Â∏¶„ÄÅÊ≥•Êª©„ÄÅÂ≤©Áü≥Êµ∑Â≤∏',
                time: 'ÈÄÄÊΩÆÊó∂ÔºåÁâπÂà´ÊòØÊ∏ÖÊô®ÂíåÂÇçÊôö'
            },
            '‰πåÈ∏¶': {
                emoji: 'üê¶‚Äç‚¨õ',
                scientific: 'Large-billed Crow, Corvus macrorhynchos',
                description: 'ÂÖ®Ë∫´ÈªëËâ≤ÁöÑÂ§ßÂûãÈ∏üÁ±ª„ÄÇËÅ™ÊòéÊú∫Ë≠¶ÔºåÂ∏∏ÊàêÁæ§Ê¥ªÂä®„ÄÇ',
                tips: 'Âú®ÂºÄÈòîÂå∫ÂüüÂíåÊ†ë‰∏äÂØªÊâæÔºåÂÆÉ‰ª¨‰ºöÂèëÂá∫Âìç‰∫ÆÁöÑÂè´Â£∞„ÄÇ',
                habitat: 'ÂºÄÈòîÂå∫Âüü„ÄÅÊ£ÆÊûó„ÄÅÂüéÂ∏Ç„ÄÅÂÜúÁî∞',
                time: 'ÂÖ®Â§©Ê¥ªÂä®Ôºå‰ΩÜÊ∏ÖÊô®ÂíåÂÇçÊôöÊúÄÊ¥ªË∑É'
            }
        };

        // Âä®Áâ©Âå∫ÂüüÂàÜÁ±ª
        const animalAreas = {
            'forest': ['Êù°Á∫πÊùæÈº†', 'ÈïøÂ∞æÁåïÁå¥', 'Â§ßËÄ≥Ëù†', 'ËöÇËöÅ', 'Ëù¥Ëù∂', 'Áø†ÈùíËõá'],
            'water': ['Ê≤≥Âè£È≥Ñ', 'Â∞èÂûãÈ≥ÑÈ±º', 'Ê∞¥Â∑®Ëú•', 'Ë∑≥È±º', 'ÂºπÊ∂ÇÈ±º'],
            'mudflat': ['ÊãõÊΩÆËüπ'],
            'sky': ['Â∞èÁôΩÈπ≠', 'Ê¨ßÈπ≠', 'ÁôΩËÖπÊµ∑Èõï', 'Áü∂Èπ¨', '‰πåÈ∏¶']
        };

        // Áü•ËØÜÈóÆÁ≠îÈ¢òÁõÆ
        const quizQuestions = [
            {
                question: 'Âì™ÁßçÂä®Áâ©ËÉΩÂú®Ê≥•Êª©‰∏ä"Ë°åËµ∞"Ôºü',
                options: ['ÂºπÊ∂ÇÈ±º', 'Ë∑≥È±º', 'ÊãõÊΩÆËüπ', 'Ê∞¥Â∑®Ëú•'],
                correct: 0
            },
            {
                question: 'Âì™ÁßçÂä®Áâ©ÊòØÂ§úË°åÊÄßÁöÑÔºü',
                options: ['Â∞èÁôΩÈπ≠', 'Â§ßËÄ≥Ëù†', 'Êù°Á∫πÊùæÈº†', 'ÈïøÂ∞æÁåïÁå¥'],
                correct: 1
            },
            {
                question: 'Âì™ÁßçÂä®Áâ©ÊòØ‰∏ñÁïå‰∏äÊúÄÂ§ßÁöÑÁà¨Ë°åÂä®Áâ©‰πã‰∏ÄÔºü',
                options: ['Ê∞¥Â∑®Ëú•', 'Ê≤≥Âè£È≥Ñ', 'Â∞èÂûãÈ≥ÑÈ±º', 'ÈïøÂ∞æÁåïÁå¥'],
                correct: 1
            },
            {
                question: 'Âì™ÁßçÂä®Áâ©‰ºöÂèëÂá∫Âê±Âê±Â£∞Ôºü',
                options: ['Â∞èÁôΩÈπ≠', 'Êù°Á∫πÊùæÈº†', 'ÊãõÊΩÆËüπ', 'ËöÇËöÅ'],
                correct: 1
            },
            {
                question: 'Âì™ÁßçÂä®Áâ©ÂñúÊ¨¢Âú®Èò≥ÂÖâ‰∏ãÈ£ûËàûÔºü',
                options: ['Ëù¥Ëù∂', 'Â§ßËÄ≥Ëù†', 'ÁôΩËÖπÊµ∑Èõï', '‰πåÈ∏¶'],
                correct: 0
            },
            {
                question: 'Âì™ÁßçÂä®Áâ©ÊòØÊñ∞Âä†Âù°Â∏∏ËßÅÁöÑÁø†ÁªøËâ≤Êó†ÊØíËõáÔºü',
                options: ['Ê∞¥Â∑®Ëú•', 'Áø†ÈùíËõá', 'Ê≤≥Âè£È≥Ñ', 'Â∞èÂûãÈ≥ÑÈ±º'],
                correct: 1
            }
        ];

        // ÊòæÁ§∫Âä®Áâ©ËØ¶ÊÉÖ
        function showAnimalDetail(animalName) {
            const detail = animalDetails[animalName];
            if (!detail) return;

            document.getElementById('detailEmoji').textContent = detail.emoji;
            document.getElementById('detailTitle').textContent = animalName;
            document.getElementById('detailScientific').textContent = detail.scientific;
            document.getElementById('detailDescription').textContent = detail.description;
            document.getElementById('detailTips').textContent = detail.tips;
            document.getElementById('detailHabitat').textContent = detail.habitat;
            document.getElementById('detailTime').textContent = detail.time;

            document.getElementById('animalDetailModal').style.display = 'block';
        }

        // ÂÖ≥Èó≠Âä®Áâ©ËØ¶ÊÉÖ
        function closeAnimalDetail() {
            document.getElementById('animalDetailModal').style.display = 'none';
        }









        // ËÉåÊôØÈü≥‰πêÂäüËÉΩ
        function toggleBackgroundMusic() {
            if (bgMusicEnabled) {
                stopBackgroundMusic();
            } else {
                startBackgroundMusic();
            }
        }

        function startBackgroundMusic() {
            try {
                if (!bgMusicAudio) {
                    bgMusicAudio = new Audio('nature.mp3');
                    bgMusicAudio.loop = true;
                    bgMusicAudio.volume = 0.3; // ËÆæÁΩÆÈÄÇ‰∏≠ÁöÑÈü≥Èáè
                }
                
                bgMusicEnabled = true;
                updateBgMusicButton();
                
                bgMusicAudio.play().then(() => {
                    console.log('ËÉåÊôØÈü≥‰πêÂ∑≤ÂºÄÂêØ');
                }).catch(e => {
                    console.error('Êí≠ÊîæËÉåÊôØÈü≥‰πêÂ§±Ë¥•:', e);
                    // Â¶ÇÊûúÊí≠ÊîæÂ§±Ë¥•ÔºåÂèØËÉΩÊòØÁî®Êà∑ËøòÊ≤°Êúâ‰∫§‰∫íÔºåËÆæÁΩÆ‰∏Ä‰∏™Ê†áÂøó
                    bgMusicAudio.addEventListener('canplay', function() {
                        bgMusicAudio.play();
                    }, { once: true });
                });
                
            } catch (e) {
                console.error('ÂêØÂä®ËÉåÊôØÈü≥‰πêÂ§±Ë¥•:', e);
            }
        }

        function stopBackgroundMusic() {
            bgMusicEnabled = false;
            updateBgMusicButton();
            
            if (bgMusicAudio) {
                bgMusicAudio.pause();
            }
            
            console.log('ËÉåÊôØÈü≥‰πêÂ∑≤ÂÖ≥Èó≠');
        }

        function updateBgMusicButton() {
            const btn = document.getElementById('bgMusicBtn');
            if (bgMusicEnabled) {
                btn.innerHTML = 'üéµ';
                btn.classList.add('playing');
                btn.classList.remove('muted');
                btn.title = 'ÂÖ≥Èó≠ËÉåÊôØÈü≥‰πê';
            } else {
                btn.innerHTML = 'üîá';
                btn.classList.remove('playing');
                btn.classList.add('muted');
                btn.title = 'ÂºÄÂêØËÉåÊôØÈü≥‰πê';
            }
        }

        // ÊòæÁ§∫Êé¢Á¥¢Âú∞Âõæ
        function showExplorationMap() {
            updateMapProgress();
            document.getElementById('explorationMap').style.display = 'block';
        }

        // ÂÖ≥Èó≠Êé¢Á¥¢Âú∞Âõæ
        function closeExplorationMap() {
            document.getElementById('explorationMap').style.display = 'none';
        }

        // Êõ¥Êñ∞Âú∞ÂõæËøõÂ∫¶
        function updateMapProgress() {
            Object.keys(animalAreas).forEach(area => {
                const animals = animalAreas[area];
                const foundCount = animals.filter(animal => foundAnimals.has(animal)).length;
                const totalCount = animals.length;
                
                const areaElement = document.querySelector(`[data-area="${area}"]`);
                const progressElement = areaElement.querySelector('.map-area-progress');
                
                progressElement.textContent = `${foundCount}/${totalCount} Âä®Áâ©`;
                
                if (foundCount === totalCount) {
                    areaElement.classList.add('completed');
                } else {
                    areaElement.classList.remove('completed');
                }
            });
        }

        // ÊòæÁ§∫Êî∂ËóèÂÜå
        function showCollectionBook() {
            const collectionGrid = document.getElementById('collectionGrid');
            collectionGrid.innerHTML = '';

            Object.keys(animalDetails).forEach(animalName => {
                const detail = animalDetails[animalName];
                const isFound = foundAnimals.has(animalName);
                
                const item = document.createElement('div');
                item.className = `collection-item ${isFound ? 'found' : ''}`;
                item.innerHTML = `
                    <div class="collection-emoji">${detail.emoji}</div>
                    <div class="collection-name">${animalName}</div>
                `;
                
                if (isFound) {
                    item.onclick = () => showAnimalDetail(animalName);
                    item.style.cursor = 'pointer';
                }
                
                collectionGrid.appendChild(item);
            });

            document.getElementById('collectionBook').style.display = 'block';
        }

        // ÂÖ≥Èó≠Êî∂ËóèÂÜå
        function closeCollectionBook() {
            document.getElementById('collectionBook').style.display = 'none';
        }

        // ÂàáÊç¢Ë∂≥ËøπËøΩË∏™
        function toggleFootprintTrail() {
            const trail = document.getElementById('footprintTrail');
            if (trail.style.display === 'block') {
                trail.style.display = 'none';
            } else {
                updateFootprintTrail();
                trail.style.display = 'block';
            }
        }

        // Êõ¥Êñ∞Ë∂≥ËøπËøΩË∏™
        function updateFootprintTrail() {
            const footprintGrid = document.getElementById('footprintGrid');
            footprintGrid.innerHTML = '';

            Object.keys(animalDetails).forEach(animalName => {
                const detail = animalDetails[animalName];
                const isFound = foundAnimals.has(animalName);
                
                const item = document.createElement('div');
                item.className = `footprint-item ${isFound ? 'found' : ''}`;
                item.textContent = detail.emoji;
                item.title = animalName;
                
                footprintGrid.appendChild(item);
            });
        }

        // ÂºÄÂßãÁü•ËØÜÈóÆÁ≠î
        function startQuiz() {
            const randomQuestion = quizQuestions[Math.floor(Math.random() * quizQuestions.length)];
            
            document.getElementById('quizQuestion').textContent = randomQuestion.question;
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';
            
            randomQuestion.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'quiz-option';
                optionElement.textContent = option;
                optionElement.onclick = () => selectQuizOption(index, randomQuestion.correct);
                optionsContainer.appendChild(optionElement);
            });
            
            document.getElementById('quizResult').textContent = '';
            document.getElementById('quizModal').style.display = 'block';
        }

        // ÈÄâÊã©ÈóÆÁ≠îÈÄâÈ°π
        function selectQuizOption(selectedIndex, correctIndex) {
            const options = document.querySelectorAll('.quiz-option');
            const resultElement = document.getElementById('quizResult');
            
            options.forEach((option, index) => {
                if (index === correctIndex) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== correctIndex) {
                    option.classList.add('incorrect');
                }
                option.onclick = null; // Á¶ÅÁî®ÁÇπÂáª
            });
            
            if (selectedIndex === correctIndex) {
                resultElement.textContent = 'üéâ ÂõûÁ≠îÊ≠£Á°ÆÔºÅ';
                resultElement.style.color = '#28a745';
            } else {
                resultElement.textContent = '‚ùå ÂõûÁ≠îÈîôËØØÔºåÊ≠£Á°ÆÁ≠îÊ°àÂ∑≤È´ò‰∫ÆÊòæÁ§∫';
                resultElement.style.color = '#dc3545';
            }
        }

        // ÂÖ≥Èó≠Áü•ËØÜÈóÆÁ≠î
        function closeQuiz() {
            document.getElementById('quizModal').style.display = 'none';
        }



        // È°µÈù¢Âä†ËΩΩÊó∂ÂàùÂßãÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
            console.log('È°µÈù¢Âä†ËΩΩÂÆåÊàêÔºåÂΩìÂâçËøõÂ∫¶:', foundCount, '‰∏™Âä®Áâ©');
            
            // ÂàùÂßãÂåñËÉåÊôØÈü≥‰πê
            updateBgMusicButton();
            
            // Âª∂ËøüÂêØÂä®ËÉåÊôØÈü≥‰πêÔºåÁ≠âÂæÖÁî®Êà∑‰∫§‰∫í
            setTimeout(() => {
                if (bgMusicEnabled) {
                    startBackgroundMusic();
                }
            }, 1000);
            

            
            // Ê∑ªÂä†Ëß¶Êë∏ÂèçÈ¶à
            document.querySelectorAll('.found-btn').forEach(btn => {
                btn.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.98)';
                });
                
                btn.addEventListener('touchend', function() {
                    this.style.transform = 'scale(1)';
                });
            });

            // Ê∑ªÂä†Âç°ÁâáÂõæÁâáÁÇπÂáª‰∫ã‰ª∂
            document.querySelectorAll('.card-image').forEach(img => {
                img.addEventListener('click', function() {
                    const animalName = this.closest('.animal-card').querySelector('.card-title').textContent;
                    showAnimalDetail(animalName);
                });
                

            });

            // Ê∑ªÂä†Ê®°ÊÄÅÊ°ÜÁÇπÂáªÂ§ñÈÉ®ÂÖ≥Èó≠
            document.querySelectorAll('.animal-detail-modal, .exploration-map, .collection-book, .quiz-modal').forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            });
        });
    </script>
</body>
</html>
